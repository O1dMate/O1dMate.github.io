<!doctype html><html lang="en" data-mode="dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="JSON Parse &amp; Filter" /><meta property="og:locale" content="en" /><meta name="description" content="A simple JSON parser and that acts like jq and can be used in the browser." /><meta property="og:description" content="A simple JSON parser and that acts like jq and can be used in the browser." /><link rel="canonical" href="/posts/json-parse-and-filter/" /><meta property="og:url" content="/posts/json-parse-and-filter/" /><meta property="og:site_name" content="Node Security" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-06-22T18:06:07+10:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="JSON Parse &amp; Filter" /><meta name="twitter:site" content="@todo" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-07-19T17:47:11+10:00","datePublished":"2025-06-22T18:06:07+10:00","description":"A simple JSON parser and that acts like jq and can be used in the browser.","headline":"JSON Parse &amp; Filter","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/json-parse-and-filter/"},"url":"/posts/json-parse-and-filter/"}</script><title>JSON Parse & Filter | Node Security</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Node Security"><meta name="application-name" content="Node Security"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.29.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/icon.webp" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a><h1 class="site-title"> <a href="/">Node Security</a></h1><p class="site-subtitle fst-italic mb-0">Security & Programming Guides</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tools/" class="nav-link"> <i class="fa-fw fas fa-tools"></i> <span>TOOLS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <a href="https://github.com/O1dMate" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/todo" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['o1dmate','protonmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>JSON Parse & Filter</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1"><header><h1 data-toc-skip>JSON Parse & Filter</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1750579567" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jun 22, 2025 </time> </span> <span> Updated <time data-ts="1752911231" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jul 19, 2025 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/todo">Alexander Wells</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="935 words" > <em>5 min</em> read</span></div></div></div></header><div class="content"><p>A simple JSON parser and that acts like <code class="language-plaintext highlighter-rouge">jq</code> and can be used in the browser.</p><p><strong>ALL</strong> processing is done client side using JavaScript. No data is sent to any server nor stored in local or session storage.</p><style> .inputField { width: 100%; color: #bfbfbf; background-color: #252525; border-block-color: #252525; resize: none; outline: none; border: none; border-radius: 6px; padding: 1rem; margin-right: 1rem; font-family: SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace; } .textArea { width: 100%; color: #bfbfbf; background-color: #252525; border-block-color: #252525; resize: none; outline: none; border: none; border-radius: 6px; padding: 1rem; margin-right: 1rem; font-family: SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace; font-size: 12px; /* white-space: pre-wrap; */ resize: vertical; white-space: nowrap; overflow: auto; } .buttonStyle { cursor: pointer; border: none; border-radius: 3px; color: #ddd; background-color: #0072B5; } .buttonStyle:hover { box-shadow: 0px 0px 15px 5px rgb(0, 114, 181); }</style><script> const MIN_TEXT_AREA_ROWS = 10; const MAX_TEXT_AREA_ROWS = 100; </script><h2 id="json-input"><span class="me-2">JSON Input</span><a href="#json-input" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><button type="button" class="buttonStyle" onclick="BeautifyJsonInput()">Beautify</button></p><textarea id="inputJson" class="textArea" spellcheck="false" rows="10" oninput="inputFieldEdited('inputJson')"></textarea><h2 id="filter-expression"><span class="me-2">Filter Expression</span><a href="#filter-expression" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><input id="filterString" class="inputField" oninput="inputFieldEdited('filterString')" /></p><h2 id="filtered-output"><span class="me-2">Filtered Output</span><a href="#filtered-output" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><textarea id="outputJson" class="textArea" spellcheck="false" rows="10" disabled=""></textarea><hr /><h2 id="functions-supported"><span class="me-2">Functions Supported</span><a href="#functions-supported" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><code class="language-plaintext highlighter-rouge">String.parseInt()</code> can be called on Strings to convert a value to a Integer.<li><code class="language-plaintext highlighter-rouge">String.parseFloat()</code> can be called on Strings to convert a value to a Float.<li><code class="language-plaintext highlighter-rouge">String.json()</code> can be called on Strings to parse it into an Object.<li><code class="language-plaintext highlighter-rouge">Object.toString()</code> can be called on Arrays, Objects, &amp; Numbers to convert it to a String.<li><code class="language-plaintext highlighter-rouge">Object.key()</code> can be called on an Object to create a new Array with the Object’s key names as elements.<li><code class="language-plaintext highlighter-rouge">Object.values()</code> can be called on an Object to create a new Array with the Object’s values as elements.<li><code class="language-plaintext highlighter-rouge">Array.sort()</code> can be called on an Array to Sort it.<li><code class="language-plaintext highlighter-rouge">Array.reverse()</code> can be called on an Array to Reverse it.<li><code class="language-plaintext highlighter-rouge">Array.flat()</code> can be called on an Array to create a new Array with all sub-array elements concatenated into it.</ul><hr /><h2 id="example-filter-expressions"><span class="me-2">Example Filter Expressions</span><a href="#example-filter-expressions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Sample JSON Input</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"people"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Melbourne"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Greg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hobart"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ben"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adelaide"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"version"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tags"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"people"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cities"</span><span class="p">,</span><span class="w"> </span><span class="s2">"json"</span><span class="p">,</span><span class="w"> </span><span class="s2">"filtering"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---object-key"><span class="me-2">Example - Object Key</span><a href="#example---object-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Melbourne"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Greg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hobart"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ben"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adelaide"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---array-index"><span class="me-2">Example - Array Index</span><a href="#example---array-index" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[0]
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Melbourne"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---negative-array-index"><span class="me-2">Example - Negative Array Index</span><a href="#example---negative-array-index" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><code class="language-plaintext highlighter-rouge">-1</code> means the last Array element.<li><code class="language-plaintext highlighter-rouge">-2</code> means the second to last Array element.<li><code class="language-plaintext highlighter-rouge">etc</code>.</ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[-1]
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ben"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adelaide"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---nested-object-key"><span class="me-2">Example - Nested Object Key</span><a href="#example---nested-object-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[0].city
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Melbourne
</pre></table></code></div></div><h2 id="example---object-key-from-all-array-elements"><span class="me-2">Example - Object Key from ALL Array Elements</span><a href="#example---object-key-from-all-array-elements" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[].name
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Greg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Ben"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---new-object-with-custom-keys"><span class="me-2">Example - New Object with Custom Keys</span><a href="#example---new-object-with-custom-keys" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Creates a new Object with the specified custom keys. The values for these key are expressions that will be evaluated.</p><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>{names: people[].name}
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Greg"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Ben"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[]{person: name, home: city}
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"person"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"home"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Melbourne"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"person"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Greg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"home"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hobart"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"person"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ben"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"home"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adelaide"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>metadata[]{value}
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"people"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cities"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"json"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"filtering"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---stringparseint"><span class="me-2">Example - String.parseInt()</span><a href="#example---stringparseint" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">parseInt()</code> method which parses a string argument and returns an integer in base 10.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt">MDN Web Docs - parseInt()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>{result: metadata[0].value.parseInt()}
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---stringparsefloat"><span class="me-2">Example - String.parseFloat()</span><a href="#example---stringparsefloat" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">parseFloat()</code> method which parses a string argument and returns a floating point number.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseFloat">MDN Web Docs - parseFloat()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>{result: metadata[0].value.parseFloat()}
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---json"><span class="me-2">Example - JSON</span><a href="#example---json" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">JSON.parse()</code> method with the current data as input, constructing the JavaScript value or object described by the string.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse">MDN Web Docs - JSON.parse()</a></ul><p><strong>Input</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>{"obj":"{\\\"name\\\":\\\"John Smith\\\"}"}
</pre></table></code></div></div><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>obj.json()
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---array-function-sort"><span class="me-2">Example - Array Function (Sort)</span><a href="#example---array-function-sort" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">sort()</code> method on the Array to sort the elements of the Array. The default sort order is ascending, built upon converting the elements into strings, then comparing their sequences of UTF-16 code unit values.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">MDN Web Docs - Array sort()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[].name.sort()
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"Ben"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Greg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"John"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---array-function-reverse"><span class="me-2">Example - Array Function (Reverse)</span><a href="#example---array-function-reverse" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">reverse()</code> method on the Array. The first array element now becoming the last, and the last array element becoming the first. In other words, elements order in the array will be turned towards the direction opposite to that previously stated.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse">MDN Web Docs - Array reverse()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[].name.sort().reverse()
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Greg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Ben"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---array-function-flat"><span class="me-2">Example - Array Function (Flat)</span><a href="#example---array-function-flat" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">flat()</code> method on the Array to create a new array with all sub-array elements concatenated into it.</p><ul><li>A single call to <code class="language-plaintext highlighter-rouge">flat()</code> will only perform this to a depth of <code class="language-plaintext highlighter-rouge">1</code>. The function can be called multiple times if required.<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat">MDN Web Docs - Array flat()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>metadata[].value.flat()
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"1.1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"people"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cities"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"json"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"filtering"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---object-tostring"><span class="me-2">Example - Object toString()</span><a href="#example---object-tostring" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">JSON.stringify()</code> method with the current data as input. Converts a JavaScript value to a JSON string.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">MDN Web Docs - JSON.stringify()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>{output: people.toString()}
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">city</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Melbourne</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Greg</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">city</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Hobart</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Ben</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">city</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Adelaide</span><span class="se">\"</span><span class="s2">}]"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---object-keys"><span class="me-2">Example - Object Keys</span><a href="#example---object-keys" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">Object.keys()</code> method with the current object as input. Returns an array of the given object’s own enumerable string-keyed property names.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys">MDN Web Docs - Object.keys()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[0].keys()
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"city"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example---object-values"><span class="me-2">Example - Object Values</span><a href="#example---object-values" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">Object.values()</code> method with the current object as input. Returns an array of the given object’s own enumerable string-keyed property values.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values">MDN Web Docs - Object.values()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[0].values()
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Melbourne"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><script> function inputFieldEdited(fieldChanged) { /* Trim trialing whitespace from entered values */ if (fieldChanged === 'inputJson') { const input_field_element = document.getElementById('inputJson'); input_field_element.value = input_field_element.value.trim(); const number_of_lines_in_input_strings = (input_field_element.value || '').match(/\n/g)?.length ?? 0; input_field_element.rows = Math.max(MIN_TEXT_AREA_ROWS, number_of_lines_in_input_strings) + 1; input_field_element.rows = Math.min(MAX_TEXT_AREA_ROWS, number_of_lines_in_input_strings) + 1; } else if (fieldChanged === 'filterString') { document.getElementById('filterString').value = document.getElementById('filterString').value.trim(); } /* Retrieve the entered Filter/Expression */ const expression = document.getElementById('filterString').value; /* Retrieve the JSON Input */ const jsonString = document.getElementById('inputJson').value; /* Parse the input using the provided expression */ const result = GetValueFromExpression(expression, jsonString); /* Show the result in the output text area */ const output_field_element = document.getElementById('outputJson'); document.getElementById('outputJson').value = result; const number_of_lines_in_output_strings = (output_field_element.value || '').match(/\n/g)?.length ?? 0; output_field_element.rows = Math.max(MIN_TEXT_AREA_ROWS, number_of_lines_in_output_strings) + 1; output_field_element.rows = Math.min(MAX_TEXT_AREA_ROWS, number_of_lines_in_output_strings) + 1; } function BeautifyJsonInput() { try { /* Attempt to beautify the JSON (parse & stringify) */ const input_field_element = document.getElementById('inputJson'); const beautified_json = JSON.stringify(JSON.parse(input_field_element.value), null, 2); input_field_element.value = beautified_json; /* Determine the number of lines the textarea should be */ const number_of_lines_in_input_strings = (beautified_json || '').match(/\n/g)?.length ?? 0; input_field_element.rows = Math.max(MIN_TEXT_AREA_ROWS, number_of_lines_in_input_strings) + 1; input_field_element.rows = Math.min(MAX_TEXT_AREA_ROWS, number_of_lines_in_input_strings) + 1; } catch (_) {} } function VerifyJqExpressionV2(expression) { let expression_pieces = []; let escape_next_char = false; let current_expression_chars = []; let current_expression_type = 'object'; let inside_object_definition = false; let currently_processing_key_name = false; let object_key_values = []; /* Array of Arrays like this [[key_name, expression_for_value]] */ /* Process the provided expression char by char. */ /* We will add each char to current_expression_chars until we reach a period (.) */ /* Upon reaching a period we'll combine the chars in current_expression_chars */ for (let char of expression + '.') { /* If we are inside an new object definition (inside {...}), then we only need to process the colons and comma between object keys & values. */ /* We don't need to parse sub-expressions since that will be handled separately later. We only need to parse out the entire expression string. */ if (inside_object_definition) { /* We've hit the end of the key name. Stop and move onto the value. */ if (char === ':' && currently_processing_key_name) { object_key_values.push([current_expression_chars.join('').trim()]); current_expression_chars = []; currently_processing_key_name = false; } /* We've hit the end of the value, and we need to start processing the next key. */ /* This is perfected fine since the value will be the same as the key. */ /* This is as in JavaScript if you say let name = 'John'; let obj = { name }; */ /* This is just short-hand for writing { name: name }. */ else if (char === ',' && !currently_processing_key_name) { /* We need to append the expression with the last key. From [..., [key]] to [..., [key, value]]. */ object_key_values[object_key_values.length-1].push(current_expression_chars.join('').trim()); current_expression_chars = []; currently_processing_key_name = true; } /* We've hit the end of the key name, and we need to start processing the next key. */ else if (char === ',' && currently_processing_key_name) { /* Add a new Key-Value pair with the key name also being the value (expression) */ object_key_values.push([current_expression_chars.join('').trim(), current_expression_chars.join('').trim()]); current_expression_chars = []; currently_processing_key_name = true; } /* We've hit the end of the Object. Add the value with the last key.*/ else if (char === '}' && !currently_processing_key_name) { /* We need to append the expression with the last key. From [..., [key]] to [..., [key, value]]. */ object_key_values[object_key_values.length-1].push(current_expression_chars.join('').trim()); current_expression_chars = []; inside_object_definition = false; expression_pieces.push({ type: current_expression_type, value: JSON.stringify(object_key_values) }); } /* We've at end of the Object, however we are still processing the key name. This is perfected fine since the value will be the same as the key. */ /* This is as in JavaScript if you say let name = 'John'; let obj = { name }; */ /* This is just short-hand for writing { name: name }. */ else if (char === '}' && currently_processing_key_name) { /* Add a new Key-Value pair with the key name also being the value (expression) */ object_key_values.push([current_expression_chars.join('').trim(), current_expression_chars.join('').trim()]); current_expression_chars = []; inside_object_definition = false; expression_pieces.push({ type: current_expression_type, value: JSON.stringify(object_key_values) }); } else { current_expression_chars.push(char); } continue; } if (char === '.') { if (current_expression_chars.length > 0) { expression_pieces.push({ type: current_expression_type, value: current_expression_chars.join('') }); current_expression_chars = []; } } else if (char === '[') { if (current_expression_chars.length > 0) { expression_pieces.push({ type: current_expression_type, value: current_expression_chars.join('') }); current_expression_chars = []; } current_expression_type = 'array'; } else if (char === ']' && current_expression_type === 'array') { /* If there is nothing in the current_expression_chars Array, then the used has specified [], meaning ALL values should be included. */ /* If there is chars between [ and ], then add since they are the index. */ expression_pieces.push({ type: current_expression_type, value: current_expression_chars.length === 0 ? 'ALL' : current_expression_chars.join('') }); current_expression_chars = []; current_expression_type = 'object'; } else if (char === '(') { let function_name = current_expression_chars.join(''); if (['flat', 'reverse', 'sort', 'keys', 'values', 'json', 'toString', 'parseInt', 'parseFloat'].includes(function_name)) { expression_pieces.push({ type: function_name, value: '' }); current_expression_chars = []; } else { /* Unknown function name */ return `Unknown function name "${function_name}()"`; } } else if (char === ')') { /* For now ignore since no functions that take arguments are supported */ } else if (char === '{' && !inside_object_definition) { if (current_expression_chars.length > 0) { expression_pieces.push({ type: current_expression_type, value: current_expression_chars.join('') }); current_expression_chars = []; } current_expression_type = 'create-object'; inside_object_definition = true; currently_processing_key_name = true; } else if (char === '}' && inside_object_definition) { inside_object_definition = false; } else if (char === '}' && !inside_object_definition) { return `Unexpected closing curly brace outside of object definition.`; } else { current_expression_chars.push(char); } } return expression_pieces; } /* Param expression_results: The results from the "VerifyExpression" function. */ /* Param json_obj: The JSON Object to be parsed using the expression. */ /* Returns: String | null */ function ExtractJqExpression(expression_results, json_obj) { let current_data = json_obj; let target_all_array_elements = false; /* This is used when selecting a Key from an array of objects, instead of a specific object. */ for (let piece of expression_results) { /* console.log('[+] Piece:', piece); */ /* console.log('[+] Data:', current_data); */ /* Check for invalid values */ if (current_data === null || current_data === undefined) { return null; } if (piece.type === 'object') { if (typeof (current_data) !== 'object') { return null; } else if (Array.isArray(current_data) && target_all_array_elements) { /* "target_all_array_elements" is TRUE */ /* Therefore we need to extract the specific key from all objects within the Array.*/ current_data = current_data.map(array_obj => array_obj[piece.value]); } else if (!current_data.hasOwnProperty(piece.value)) { return null; } else { current_data = current_data[piece.value]; } } /* START of function handlers */ else if (piece.type === 'flat') { if (!Array.isArray(current_data)) { return null; } else { current_data = current_data.flat(); } } else if (piece.type === 'reverse') { if (!Array.isArray(current_data)) { return null; } else { current_data = current_data.reverse(); } } else if (piece.type === 'sort') { if (!Array.isArray(current_data)) { return null; } else { current_data = current_data.sort(); } } else if (piece.type === 'keys') { if (typeof(current_data) !== 'object') { return null; } else { current_data = Object.keys(current_data); } } else if (piece.type === 'values') { if (typeof(current_data) !== 'object') { return null; } else { current_data = Object.values(current_data); } } else if (piece.type === 'json') { try { console.log('toJSON', current_data); console.log('result', JSON.parse(current_data)); current_data = (typeof current_data === 'string' ? JSON.parse(current_data) : current_data); } catch (err) { /* Special case for when the String is JSON, but escaped, so it can't be directly parsed to JSON. The double quote escaping needs to be removed first. */ if (err.message === `JSON.parse: expected property name or '}' at line 1 column 2 of the JSON data`) { try { current_data = JSON.parse(current_data.replaceAll('\\"', '"')) } catch (_) { return null; } } else { return null; } } } else if (piece.type === 'toString') { try { current_data = (typeof current_data !== 'string' ? JSON.stringify(current_data) : current_data); } catch (_) { return null; } } else if (piece.type === 'parseInt') { if (typeof(current_data) !== 'string') { return null; } else { current_data = parseInt(current_data); } } else if (piece.type === 'parseFloat') { if (typeof(current_data) !== 'string') { return null; } else { current_data = parseFloat(current_data); } } /* END of function handlers */ else if (piece.type === 'array') { if (!Array.isArray(current_data)) { return null; } if (piece.value === 'ALL') { target_all_array_elements = true; continue; } else { const specified_index = parseInt(piece.value); /* If a positive index (>= 0) is used, then use that. */ /* If a negative index (< 0) is used, then take the length and add it. E.g. -1 and len(10) => 10 + (-1) => 9 */ let array_index = (specified_index >= 0 ? specified_index : current_data.length + specified_index); if (target_all_array_elements) { /* "target_all_array_elements" is TRUE */ /* Therefore we need to extract the specific key from all objects within the Array.*/ current_data = current_data.map(array_element => array_element[array_index]); } else { current_data = current_data[array_index]; } } } else if (piece.type === 'create-object') { /* This is a special case. The value portion will be an Array of Arrays, with each element being [KeyName, expression] */ let new_object = {}; let keys_to_create = JSON.parse(piece.value); if (target_all_array_elements) { /* "target_all_array_elements" is TRUE */ /* Therefore we need to extract the specific key from all objects within the Array.*/ current_data = current_data.map(array_element => CreateNewObject(keys_to_create, JSON.stringify(array_element))); } else { current_data = CreateNewObject(keys_to_create, JSON.stringify(current_data)); } } else { return null; } target_all_array_elements = false; } /* console.log("[+] Output:", current_data); */ if (current_data === null || current_data === undefined) { return null; } return current_data; } function CreateNewObject(key_names_and_value_expressions, json_string) { let new_object = {}; for (let key_value of key_names_and_value_expressions) { if (key_value[0] === '__proto__' || key_value[0].trim() === '') { continue; } const parse_value_expression = VerifyJqExpressionV2(key_value[1]); /* The sub-expression failed, so skip this key */ if (typeof (parse_value_expression) === 'string') { continue; } new_object[key_value[0]] = ExtractJqExpression(parse_value_expression, JSON.parse(json_string)) ?? ''; } return new_object; } function GetValueFromExpression(expression, json_string) { if (expression.length <= 0) { return ''; } let json_object = {}; try { json_object = JSON.parse(json_string); } catch (_) { return 'Input is NOT valid JSON'; } const results = VerifyJqExpressionV2(expression); /* Return the Error Message */ if (typeof (results) === 'string') { return results; } let parsed_expression = ExtractJqExpression(results, json_object) ?? ''; try { /* Convert result to String if it's not already a String. */ if (typeof (parsed_expression) === 'object' || Array.isArray(parsed_expression)) { parsed_expression = JSON.stringify(parsed_expression); } else if (typeof (parsed_expression) === 'number') { parsed_expression = parsed_expression.toString(); } parsed_expression = JSON.stringify(JSON.parse(parsed_expression), null, 4); } catch (_) {} return parsed_expression; } </script></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/tools/">tools</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/tools/" class="post-tag no-text-decoration" >tools</a> <a href="/tags/security/" class="post-tag no-text-decoration" >security</a> <a href="/tags/web/" class="post-tag no-text-decoration" >web</a> <a href="/tags/http/" class="post-tag no-text-decoration" >http</a> <a href="/tags/https/" class="post-tag no-text-decoration" >https</a> <a href="/tags/json/" class="post-tag no-text-decoration" >json</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=JSON%20Parse%20&%20Filter%20-%20Node%20Security&url=%2Fposts%2Fjson-parse-and-filter%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=JSON%20Parse%20&%20Filter%20-%20Node%20Security&u=%2Fposts%2Fjson-parse-and-filter%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2Fjson-parse-and-filter%2F&text=JSON%20Parse%20&%20Filter%20-%20Node%20Security" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/modifying-source-code-of-jnlp-resources/">Modifying Source Code of JNLP Resources</a><li class="text-truncate lh-lg"> <a href="/posts/configuring-ssh-server/">Configuring SSH Server</a><li class="text-truncate lh-lg"> <a href="/posts/json-parse-and-filter/">JSON Parse & Filter</a><li class="text-truncate lh-lg"> <a href="/posts/pdf-combine/">PDF Combiner</a><li class="text-truncate lh-lg"> <a href="/posts/nmap-output-parser/">Nmap Output Parser</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/tags/javascript/">javascript</a> <a class="post-tag btn btn-outline-primary" href="/tags/cryptography/">cryptography</a> <a class="post-tag btn btn-outline-primary" href="/tags/web/">web</a> <a class="post-tag btn btn-outline-primary" href="/tags/http/">http</a> <a class="post-tag btn btn-outline-primary" href="/tags/https/">https</a> <a class="post-tag btn btn-outline-primary" href="/tags/programming/">programming</a> <a class="post-tag btn btn-outline-primary" href="/tags/algorithm/">algorithm</a> <a class="post-tag btn btn-outline-primary" href="/tags/tools/">tools</a> <a class="post-tag btn btn-outline-primary" href="/tags/windows/">windows</a></div></section></div><section id="toc-wrapper" class="d-none ps-0 pe-4"><h2 class="panel-heading ps-3 mb-2">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/api-fuzzing/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1623314587" data-df="ll" > Jun 10, 2021 </time><h4 class="pt-0 my-2">API Fuzzing</h4><div class="text-muted"><p>PAGE UNDER CONSTRUCTION Fuzzing Payloads CR-LF Copy “CR-LF” Payloads to Clipboard Bad Strings Copy “Bad Strings” Payloads to Clipboard JSON Parameter Fuzzing - Small Copy “JSON Parameter Fuzzi...</p></div></div></a></article><article class="col"> <a href="/posts/web-app-checklist/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1633295642" data-df="ll" > Oct 4, 2021 </time><h4 class="pt-0 my-2">Web App Checklist</h4><div class="text-muted"><p>This page is an interactive tool of this page. All the data for this checklist application is STORED CLIENT-SIDE. This application works by storing data in localStorage so that it’s persistent betw...</p></div></div></a></article><article class="col"> <a href="/posts/jwt-fuzzing/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1621929818" data-df="ll" > May 25, 2021 </time><h4 class="pt-0 my-2">JWT Fuzzing</h4><div class="text-muted"><p>The goal of this tool is to create a list of fuzzing payloads for testing JWTs on web services and applications. The payloads are designed to test common JWT issues and bypasses, as well as attempt...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/password-word-list-generator/" class="btn btn-outline-primary" aria-label="Older" ><p>Password Word List Generator</p></a> <a href="/posts/pdf-combine/" class="btn btn-outline-primary" aria-label="Newer" ><p>PDF Combiner</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://twitter.com/todo">Alexander Wells</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.1.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/tags/javascript/">javascript</a> <a class="post-tag btn btn-outline-primary" href="/tags/cryptography/">cryptography</a> <a class="post-tag btn btn-outline-primary" href="/tags/web/">web</a> <a class="post-tag btn btn-outline-primary" href="/tags/http/">http</a> <a class="post-tag btn btn-outline-primary" href="/tags/https/">https</a> <a class="post-tag btn btn-outline-primary" href="/tags/programming/">programming</a> <a class="post-tag btn btn-outline-primary" href="/tags/algorithm/">algorithm</a> <a class="post-tag btn btn-outline-primary" href="/tags/tools/">tools</a> <a class="post-tag btn btn-outline-primary" href="/tags/windows/">windows</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.29.0/dist/tocbot.min.js"></script> <script src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script>SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
