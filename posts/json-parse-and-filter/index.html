<!doctype html><html lang="en" data-mode="dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="JSON Parse &amp; Filter" /><meta property="og:locale" content="en" /><meta name="description" content="A simple JSON parser and that acts like jq and can be used in the browser." /><meta property="og:description" content="A simple JSON parser and that acts like jq and can be used in the browser." /><link rel="canonical" href="/posts/json-parse-and-filter/" /><meta property="og:url" content="/posts/json-parse-and-filter/" /><meta property="og:site_name" content="Node Security" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-06-22T18:06:07+10:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="JSON Parse &amp; Filter" /><meta name="twitter:site" content="@todo" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-06-22T18:06:07+10:00","datePublished":"2025-06-22T18:06:07+10:00","description":"A simple JSON parser and that acts like jq and can be used in the browser.","headline":"JSON Parse &amp; Filter","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/json-parse-and-filter/"},"url":"/posts/json-parse-and-filter/"}</script><title>JSON Parse & Filter | Node Security</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Node Security"><meta name="application-name" content="Node Security"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.29.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/icon.webp" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a><h1 class="site-title"> <a href="/">Node Security</a></h1><p class="site-subtitle fst-italic mb-0">Security & Programming Guides</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tools/" class="nav-link"> <i class="fa-fw fas fa-tools"></i> <span>TOOLS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <a href="https://github.com/O1dMate" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/todo" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['o1dmate','protonmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>JSON Parse & Filter</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1"><header><h1 data-toc-skip>JSON Parse & Filter</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1750579567" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jun 22, 2025 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/todo">Alexander Wells</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="539 words" > <em>2 min</em> read</span></div></div></div></header><div class="content"><p>A simple JSON parser and that acts like <code class="language-plaintext highlighter-rouge">jq</code> and can be used in the browser.</p><p><strong>ALL</strong> processing is done client side using JavaScript. No data is sent to any server nor stored in local or session storage.</p><style> .inputField { width: 100%; color: #bfbfbf; background-color: #252525; border-block-color: #252525; resize: none; outline: none; border: none; border-radius: 6px; padding: 1rem; margin-right: 1rem; font-family: SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace; } .textArea { width: 100%; color: #bfbfbf; background-color: #252525; border-block-color: #252525; resize: none; outline: none; border: none; border-radius: 6px; padding: 1rem; margin-right: 1rem; font-family: SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace; font-size: 12px; /* white-space: pre-wrap; */ resize: vertical; white-space: nowrap; overflow: auto; } .buttonStyle { cursor: pointer; border: none; border-radius: 3px; color: #ddd; margin-top: 0.5rem; background-color: #0072B5; } .buttonStyle:hover { box-shadow: 0px 0px 15px 5px rgb(0, 114, 181); }</style><script> const MIN_TEXT_AREA_ROWS = 10; const MAX_TEXT_AREA_ROWS = 100; </script><h2 id="filter-expression"><span class="me-2">Filter Expression</span><a href="#filter-expression" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><input id="filterString" class="inputField" oninput="inputFieldEdited('filterString')" /></p><h2 id="json-input"><span class="me-2">JSON Input</span><a href="#json-input" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><textarea id="inputJson" class="textArea" spellcheck="false" rows="10" oninput="inputFieldEdited('inputJson')"></textarea><h2 id="filtered-output"><span class="me-2">Filtered Output</span><a href="#filtered-output" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><textarea id="outputJson" class="textArea" spellcheck="false" rows="10" disabled=""></textarea><hr /><h2 id="example-filter-expressions"><span class="me-2">Example Filter Expressions</span><a href="#example-filter-expressions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Sample JSON Input</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"people"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Melbourne"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Greg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hobart"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ben"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adelaide"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"version"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tags"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"people"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cities"</span><span class="p">,</span><span class="w"> </span><span class="s2">"json"</span><span class="p">,</span><span class="w"> </span><span class="s2">"filtering"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h2 id="example-1---object-key"><span class="me-2">Example 1 - Object Key</span><a href="#example-1---object-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Melbourne"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Greg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hobart"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ben"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adelaide"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example-2---array-index"><span class="me-2">Example 2 - Array Index</span><a href="#example-2---array-index" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[0]
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Melbourne"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h2 id="example-3---negative-array-index"><span class="me-2">Example 3 - Negative Array Index</span><a href="#example-3---negative-array-index" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><code class="language-plaintext highlighter-rouge">-1</code> means the last Array element.<li><code class="language-plaintext highlighter-rouge">-2</code> means the second to last Array element.<li><code class="language-plaintext highlighter-rouge">etc</code>.</ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[-1]
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ben"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adelaide"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h2 id="example-4---nested-object-key"><span class="me-2">Example 4 - Nested Object Key</span><a href="#example-4---nested-object-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[0].city
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Melbourne
</pre></table></code></div></div><h2 id="example-5---object-key-from-all-array-elements"><span class="me-2">Example 5 - Object Key from ALL Array Elements</span><a href="#example-5---object-key-from-all-array-elements" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[].name
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Greg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Ben"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example-6---array-function-sort"><span class="me-2">Example 6 - Array Function (Sort)</span><a href="#example-6---array-function-sort" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">sort()</code> method on the Array to sort the elements of the Array. The default sort order is ascending, built upon converting the elements into strings, then comparing their sequences of UTF-16 code unit values.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">MDN Web Docs - Array sort()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[].name.sort()
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"Ben"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Greg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"John"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example-7---array-function-reverse"><span class="me-2">Example 7 - Array Function (Reverse)</span><a href="#example-7---array-function-reverse" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">reverse()</code> method on the Array. The first array element now becoming the last, and the last array element becoming the first. In other words, elements order in the array will be turned towards the direction opposite to that previously stated.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse">MDN Web Docs - Array reverse()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[].name.sort().reverse()
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Greg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Ben"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example-8---array-function-flat"><span class="me-2">Example 8 - Array Function (Flat)</span><a href="#example-8---array-function-flat" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">flat()</code> method on the Array to create a new array with all sub-array elements concatenated into it.</p><ul><li>A single call to <code class="language-plaintext highlighter-rouge">flat()</code> will only perform this to a depth of <code class="language-plaintext highlighter-rouge">1</code>. The function can be called multiple times if required.<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat">MDN Web Docs - Array flat()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>metadata[].value.flat()
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"1.1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"people"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cities"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"json"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"filtering"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example-9---object-keys"><span class="me-2">Example 9 - Object Keys</span><a href="#example-9---object-keys" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">Object.keys()</code> method with the current object as input. Returns an array of the given object’s own enumerable string-keyed property names.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys">MDN Web Docs - Object.keys()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[0].keys()
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"city"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><h2 id="example-10---object-values"><span class="me-2">Example 10 - Object Values</span><a href="#example-10---object-values" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Calls the <code class="language-plaintext highlighter-rouge">Object.values()</code> method with the current object as input. Returns an array of the given object’s own enumerable string-keyed property values.</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values">MDN Web Docs - Object.values()</a></ul><p><strong>Filter</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>people[0].values()
</pre></table></code></div></div><p><strong>Output</strong></p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Melbourne"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></table></code></div></div><script> function inputFieldEdited(fieldChanged) { /* Trim trialing whitespace from entered values */ if (fieldChanged === 'inputJson') { const input_field_element = document.getElementById('inputJson'); input_field_element.value = input_field_element.value.trim(); const number_of_lines_in_input_strings = (input_field_element.value || '').match(/\n/g)?.length ?? 0; input_field_element.rows = Math.max(MIN_TEXT_AREA_ROWS, number_of_lines_in_input_strings) + 1; input_field_element.rows = Math.min(MAX_TEXT_AREA_ROWS, number_of_lines_in_input_strings) + 1; } else if (fieldChanged === 'filterString') { document.getElementById('filterString').value = document.getElementById('filterString').value.trim(); } /* Retrieve the entered Filter/Expression */ const expression = document.getElementById('filterString').value; /* Retrieve the JSON Input */ const jsonString = document.getElementById('inputJson').value; /* Parse the input using the provided expression */ const result = GetValueFromExpression(expression, jsonString); /* Show the result in the output text area */ const output_field_element = document.getElementById('outputJson'); document.getElementById('outputJson').value = result; const number_of_lines_in_output_strings = (output_field_element.value || '').match(/\n/g)?.length ?? 0; output_field_element.rows = Math.max(MIN_TEXT_AREA_ROWS, number_of_lines_in_output_strings) + 1; output_field_element.rows = Math.min(MAX_TEXT_AREA_ROWS, number_of_lines_in_output_strings) + 1; } function VerifyJqExpression(expression) { /* Remove any escaped periods (.) */ let string_to_replace_escaped_periods_with = Math.random().toString().slice(2) + Math.random().toString().slice(2); let escaped_expression = expression.replaceAll('\\.', string_to_replace_escaped_periods_with); /* Split up the pieces based on the periods (.) */ let pieces_of_expression = escaped_expression.split('.').map(piece => piece.trim()).filter(Boolean); /* Further split up any Array syntax. */ /* E.g. "data[0]" and "data.[0]" should be handled the same, but the above split won't handle "data[0]" since there is no period. */ let updated_pieces_of_expression = []; for (let piece of pieces_of_expression) { /* Check for an Array index at the end. E.g. "data[0]". */ /* If there is a match, the result will be: ["data[0]", "data", "[0]"]. */ /* This is why indices 1 and 2 are returned below. */ let is_referencing_array = piece.match(/(.+?)(\[.*?\])$/); if (is_referencing_array) { updated_pieces_of_expression.push(is_referencing_array[1]); updated_pieces_of_expression.push(is_referencing_array[2]); } else { /* Return the original piece */ updated_pieces_of_expression.push(piece); } } /* Unescape the escaped periods */ updated_pieces_of_expression = updated_pieces_of_expression.map(piece => piece.replaceAll(string_to_replace_escaped_periods_with, '.')); /* console.log(updated_pieces_of_expression); */ let results = []; /* Verify each of the individual pieces of the expression to make sure it makes sense. */ for (let piece of updated_pieces_of_expression) { if (piece === '[]') { results.push({ type: 'array', value: 'ALL' }); } else if (piece.length >= 3 && piece[0] === '[' && piece[piece.length - 1] === ']') { /* Extract the data inside the []. "[123]" => "123" */ let array_index = piece.slice(1, piece.length - 1); /* Ensure the array index is a valid value (Negative or Positive Integer) */ if (!array_index.match(/^-?\d+$/)) { return `Invalid Array Index: ${array_index}`; } results.push({ type: 'array', value: array_index }); } else if (piece.toLowerCase() === 'flat()') { results.push({ type: 'flat', value: '' }); } else if (piece.toLowerCase() === 'reverse()') { results.push({ type: 'reverse', value: '' }); } else if (piece.toLowerCase() === 'sort()') { results.push({ type: 'sort', value: '' }); } else if (piece.toLowerCase() === 'keys()') { results.push({ type: 'keys', value: '' }); } else if (piece.toLowerCase() === 'values()') { results.push({ type: 'values', value: '' }); } else { if (piece.toLowerCase() === '__proto__') { return `Invalid key name. Can't use restricted name "__proto__".`; } results.push({ type: 'object', value: piece }); } } return results; } /* Param expression_results: The results from the "VerifyExpression" function. */ /* Param json_obj: The JSON Object to be parsed using the expression. */ /* Returns: String | null */ function ExtractJqExpression(expression_results, json_obj) { let current_data = json_obj; let target_all_array_elements = false; /* This is used when selecting a Key from an array of objects, instead of a specific object. */ for (let piece of expression_results) { /* console.log('[+] Piece:', piece); */ /* console.log('[+] Data:', current_data); */ /* Check for invalid values */ if (current_data === null || current_data === undefined) { return null; } if (piece.type === 'object') { if (typeof (current_data) !== 'object') { return null; } else if (Array.isArray(current_data) && target_all_array_elements) { /* "target_all_array_elements" is TRUE */ /* Therefore we need to extract the specific key from all objects within the Array.*/ current_data = current_data.map(array_obj => array_obj[piece.value]); } else if (!current_data.hasOwnProperty(piece.value)) { return null; } else { current_data = current_data[piece.value]; } } else if (piece.type === 'flat') { if (!Array.isArray(current_data)) { return null; } else { current_data = current_data.flat(); } } else if (piece.type === 'reverse') { if (!Array.isArray(current_data)) { return null; } else { current_data = current_data.reverse(); } } else if (piece.type === 'sort') { if (!Array.isArray(current_data)) { return null; } else { current_data = current_data.sort(); } } else if (piece.type === 'keys') { if (typeof(current_data) !== 'object') { return null; } else { current_data = Object.keys(current_data); } } else if (piece.type === 'values') { if (typeof(current_data) !== 'object') { return null; } else { current_data = Object.values(current_data); } } else if (piece.type === 'array') { if (!Array.isArray(current_data)) { return null; } if (piece.value === 'ALL') { target_all_array_elements = true; continue; } else { const specified_index = parseInt(piece.value); /* If a positive index (>= 0) is used, then use that. */ /* If a negative index (< 0) is used, then take the length and add it. E.g. -1 and len(10) => 10 + (-1) => 9 */ let array_index = (specified_index >= 0 ? specified_index : current_data.length + specified_index); if (target_all_array_elements) { /* "target_all_array_elements" is TRUE */ /* Therefore we need to extract the specific key from all objects within the Array.*/ current_data = current_data.map(array_element => array_element[array_index]); } else { current_data = current_data[array_index]; } } } else { return null; } target_all_array_elements = false; } /* Convert result to String if it's not already a String. */ if (typeof (current_data) === 'object' || Array.isArray(current_data)) { current_data = JSON.stringify(current_data); } else if (typeof (current_data) === 'number') { current_data = current_data.toString(); } /* console.log("[+] Output:", current_data); */ if (current_data === null || current_data === undefined) { return null; } return current_data; } function GetValueFromExpression(expression, json_string) { if (expression.length <= 0) return ''; let json_object = {}; try { json_object = JSON.parse(json_string); } catch (_) { return 'Input is NOT valid JSON'; } const results = VerifyJqExpression(expression); /* Return the Error Message */ if (typeof (results) === 'string') return results; let parsed_expression = ExtractJqExpression(results, json_object) ?? ''; try { parsed_expression = JSON.stringify(JSON.parse(parsed_expression), null, 2); } catch (_) {} return parsed_expression; } </script></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/tools/">tools</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/tools/" class="post-tag no-text-decoration" >tools</a> <a href="/tags/security/" class="post-tag no-text-decoration" >security</a> <a href="/tags/web/" class="post-tag no-text-decoration" >web</a> <a href="/tags/http/" class="post-tag no-text-decoration" >http</a> <a href="/tags/https/" class="post-tag no-text-decoration" >https</a> <a href="/tags/json/" class="post-tag no-text-decoration" >json</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=JSON%20Parse%20&%20Filter%20-%20Node%20Security&url=%2Fposts%2Fjson-parse-and-filter%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=JSON%20Parse%20&%20Filter%20-%20Node%20Security&u=%2Fposts%2Fjson-parse-and-filter%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2Fjson-parse-and-filter%2F&text=JSON%20Parse%20&%20Filter%20-%20Node%20Security" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/json-parse-and-filter/">JSON Parse & Filter</a><li class="text-truncate lh-lg"> <a href="/posts/password-word-list-generator/">Password Word List Generator</a><li class="text-truncate lh-lg"> <a href="/posts/rust-cheatsheet/">Rust Cheatsheet</a><li class="text-truncate lh-lg"> <a href="/posts/breaking-out-of-windows-environments/">Breaking out of Windows Environments</a><li class="text-truncate lh-lg"> <a href="/posts/custom-right-click-menu-option/">Windows Custom Right Click Menu Option</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/tags/javascript/">javascript</a> <a class="post-tag btn btn-outline-primary" href="/tags/cryptography/">cryptography</a> <a class="post-tag btn btn-outline-primary" href="/tags/web/">web</a> <a class="post-tag btn btn-outline-primary" href="/tags/http/">http</a> <a class="post-tag btn btn-outline-primary" href="/tags/https/">https</a> <a class="post-tag btn btn-outline-primary" href="/tags/algorithm/">algorithm</a> <a class="post-tag btn btn-outline-primary" href="/tags/programming/">programming</a> <a class="post-tag btn btn-outline-primary" href="/tags/windows/">windows</a> <a class="post-tag btn btn-outline-primary" href="/tags/nodejs/">nodejs</a></div></section></div><section id="toc-wrapper" class="d-none ps-0 pe-4"><h2 class="panel-heading ps-3 mb-2">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/api-fuzzing/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1623314587" data-df="ll" > Jun 10, 2021 </time><h4 class="pt-0 my-2">API Fuzzing</h4><div class="text-muted"><p>PAGE UNDER CONSTRUCTION Fuzzing Payloads CR-LF Copy “CR-LF” Payloads to Clipboard Bad Strings Copy “Bad Strings” Payloads to Clipboard JSON Parameter Fuzzing - Small Copy “JSON Parameter Fuzzi...</p></div></div></a></article><article class="col"> <a href="/posts/web-app-checklist/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1633295642" data-df="ll" > Oct 4, 2021 </time><h4 class="pt-0 my-2">Web App Checklist</h4><div class="text-muted"><p>This page is an interactive tool of this page. All the data for this checklist application is STORED CLIENT-SIDE. This application works by storing data in localStorage so that it’s persistent betw...</p></div></div></a></article><article class="col"> <a href="/posts/jwt-fuzzing/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1621929818" data-df="ll" > May 25, 2021 </time><h4 class="pt-0 my-2">JWT Fuzzing</h4><div class="text-muted"><p>The goal of this tool is to create a list of fuzzing payloads for testing JWTs on web services and applications. The payloads are designed to test common JWT issues and bypasses, as well as attempt...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/password-word-list-generator/" class="btn btn-outline-primary" aria-label="Older" ><p>Password Word List Generator</p></a><div class="btn btn-outline-primary disabled" aria-label="Newer"><p>-</p></div></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://twitter.com/todo">Alexander Wells</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.1.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/tags/javascript/">javascript</a> <a class="post-tag btn btn-outline-primary" href="/tags/cryptography/">cryptography</a> <a class="post-tag btn btn-outline-primary" href="/tags/web/">web</a> <a class="post-tag btn btn-outline-primary" href="/tags/http/">http</a> <a class="post-tag btn btn-outline-primary" href="/tags/https/">https</a> <a class="post-tag btn btn-outline-primary" href="/tags/algorithm/">algorithm</a> <a class="post-tag btn btn-outline-primary" href="/tags/programming/">programming</a> <a class="post-tag btn btn-outline-primary" href="/tags/windows/">windows</a> <a class="post-tag btn btn-outline-primary" href="/tags/nodejs/">nodejs</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.29.0/dist/tocbot.min.js"></script> <script src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script>SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
