<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="FABRIK Algorithm" /><meta property="og:locale" content="en_US" /><meta name="description" content="In this post we’ll look at how to implement the FABRIK algorithm in 2D in JavaScript using the p5.js library for drawing. The Forward And Backward Reaching Inverse Kinematics (FABRIK) algorithm is a heuristic, iterative solver for the Inverse Kinematics problems." /><meta property="og:description" content="In this post we’ll look at how to implement the FABRIK algorithm in 2D in JavaScript using the p5.js library for drawing. The Forward And Backward Reaching Inverse Kinematics (FABRIK) algorithm is a heuristic, iterative solver for the Inverse Kinematics problems." /><link rel="canonical" href="https://node-security.com/posts/fabrik-algorithm/" /><meta property="og:url" content="https://node-security.com/posts/fabrik-algorithm/" /><meta property="og:site_name" content="Node Security" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-11-04T19:35:22+11:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="FABRIK Algorithm" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="zCs6F-1y95azrfcOnbFvS60JAILGGXaeG4vY1-JFacs" /> <script type="application/ld+json"> {"url":"https://node-security.com/posts/fabrik-algorithm/","@type":"BlogPosting","headline":"FABRIK Algorithm","dateModified":"2021-11-04T19:35:22+11:00","datePublished":"2021-11-04T19:35:22+11:00","description":"In this post we’ll look at how to implement the FABRIK algorithm in 2D in JavaScript using the p5.js library for drawing. The Forward And Backward Reaching Inverse Kinematics (FABRIK) algorithm is a heuristic, iterative solver for the Inverse Kinematics problems.","mainEntityOfPage":{"@type":"WebPage","@id":"https://node-security.com/posts/fabrik-algorithm/"},"@context":"https://schema.org"}</script><title>FABRIK Algorithm | Node Security</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Node Security"><meta name="application-name" content="Node Security"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"> <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script><link defer rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.1/css/bootstrap.min.css"><link defer rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link defer rel="dns-prefetch" href="https://fonts.gstatic.com"><link defer rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css"><link defer rel="stylesheet" href="/assets/css/style.css"><link defer rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/icon.webp" alt="avatar" loading="lazy" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Node Security</a></div><div class="site-subtitle font-italic">Security & Programming Guides</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tools/" class="nav-link"> <i class="fa-fw fas fa-tools ml-xl-3 mr-xl-3 unloaded"></i> <span>TOOLS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/O1dMate" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['o1dmate','protonmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>FABRIK Algorithm</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>FABRIK Algorithm</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Alexander Wells </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Nov 4, 2021, 7:35 PM +1100" >Nov 4<i class="unloaded">2021-11-04T19:35:22+11:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="356 words">1 min read</span></div></div><div class="post-content"><p>In this post we’ll look at how to implement the <a href="https://www.sciencedirect.com/science/article/abs/pii/S1524070311000178?via%3Dihub">FABRIK</a> algorithm in 2D in JavaScript using the <a href="https://p5js.org/">p5.js</a> library for drawing. The Forward And Backward Reaching Inverse Kinematics (FABRIK) algorithm is a heuristic, iterative solver for the Inverse Kinematics problems.</p><ol><li><a href="#what-is-the-goal">What is the Goal?</a><ul><li><a href="#starting-configuration">Starting Configuration</a><li><a href="#end-configuration">End Configuration</a></ul><li><a href="#the-algorithm">The Algorithm</a><ul><li><a href="#step-1">Step 1</a><li><a href="#step-2">Step 2</a><li><a href="#step-3">Step 3</a></ul><li><a href="#full-single-iteration">Full Single Iteration</a><li><a href="#second-iteration">Second Iteration</a><li><a href="#completed">Completed</a></ol><h1 id="what-is-the-goal">What is the Goal?</h1><p>Given a set of nodes that are connected together, we want to know how they should move when the end node is moved.</p><h2 id="starting-configuration">Starting Configuration</h2><ul><li>The <span style="color: dodgerblue;">Blue</span> Node is our fixed starting point.<li>The <span style="color: lime;">Green</span> Node is position where we want to move the end (left most) Node.</ul><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-start.png" alt="" /></p><h2 id="end-configuration">End Configuration</h2><p>This is our end goal configuration which we want to calculate:</p><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-end.png" alt="" /></p><p><br /></p><h1 id="the-algorithm">The Algorithm</h1><p>The algorithm is iterative, so we will repeatable be doing the same steps until we reach our desired result. The steps of the algorithm are as follows:</p><ol><li>Move the first point desired location.<li>Move the next point towards the previous so that it’s the correct distance away.<li>Repeat Step 2 until all points are processed.</ol><p>The above steps are a single iteration. Once a single iteration is complete, we do it again, but in the reverse order. So the point we finished on will be the starting point in the next iteration.</p><h2 id="step-1">Step 1</h2><p>Move the first point to the desired location (the <span style="color: lime;">Green</span> Node):</p><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-step-1.png" alt="" /> <em>Starting configuration</em></p><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-step-2.png" alt="" /> <em>Moving Point 1 to target location (<span style="color: lime;">Green</span> Node)</em></p><h2 id="step-2">Step 2</h2><p>Move the next point towards the previous (in this case the first node) so it’s the correct distance away:</p><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-step-3.png" alt="" /> <em>Moving Point 2 towards Point 1</em></p><h2 id="step-3">Step 3</h2><p>Repeat Step 2 until all points are processed:</p><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-step-4.png" alt="" /> <em>Moving Point 3 towards Point 2</em></p><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-step-5.png" alt="" /> <em>Moving Point 4 towards Point 3</em></p><p><strong>ITERATION COMPLETE</strong></p><p><br /></p><h1 id="full-single-iteration">Full Single Iteration</h1><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-iter-1.gif" alt="" /></p><p><br /></p><h1 id="second-iteration">Second Iteration</h1><p>Notice that the order of the points has been reversed</p><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-step-6.png" alt="" /> <em>Moving Point 1 to target location (<span style="color: dodgerblue;">Blue</span> Node)</em></p><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-step-7.png" alt="" /> <em>Moving Point 2 towards Point 1</em></p><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-step-8.png" alt="" /> <em>Moving Point 3 towards Point 2</em></p><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-step-9.png" alt="" /> <em>Moving Point 4 towards Point 3</em></p><p><strong>ITERATION COMPLETE</strong></p><p><br /></p><h1 id="completed">Completed</h1><p>After performing 20 iterations (10 each way) we have the following result:</p><p><img data-proofer-ignore data-src="/assets/programming/fabrik/fabrik-end.png" alt="" /></p><h1 id="references">References</h1><ul><li><a href="https://www.sciencedirect.com/science/article/abs/pii/S1524070311000178?via%3Dihub">https://www.sciencedirect.com/science/article/abs/pii/S1524070311000178?via%3Dihub</a><li><a href="https://en.wikipedia.org/wiki/Inverse_kinematics">https://en.wikipedia.org/wiki/Inverse_kinematics</a><li><a href="https://p5js.org/">https://p5js.org/</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/javascript/'>javascript</a>, <a href='/categories/programming/'>programming</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/javascript/" class="post-tag no-text-decoration" >javascript</a> <a href="/tags/programming/" class="post-tag no-text-decoration" >programming</a> <a href="/tags/p5-js/" class="post-tag no-text-decoration" >p5.js</a> <a href="/tags/algorithm/" class="post-tag no-text-decoration" >algorithm</a> <a href="/tags/plexus/" class="post-tag no-text-decoration" >plexus</a> <a href="/tags/fun/" class="post-tag no-text-decoration" >fun</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=FABRIK Algorithm - Node Security&url=https://node-security.com/posts/fabrik-algorithm/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=FABRIK Algorithm - Node Security&u=https://node-security.com/posts/fabrik-algorithm/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=FABRIK Algorithm - Node Security&url=https://node-security.com/posts/fabrik-algorithm/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/web-app-security/">Web App Security</a><li><a href="/posts/web-app-checklist/">Web App Checklist</a><li><a href="/posts/android-hooking-in-frida/">Android Hooking in Frida</a><li><a href="/posts/maze-colouring-with-dfs-and-bfs/">Maze Colouring with DFS and BFS</a><li><a href="/posts/objection-quick-start/">Objection Quick Start</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/security/">security</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/http/">http</a> <a class="post-tag" href="/tags/https/">https</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/nodejs/">nodejs</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/cryptography/">cryptography</a> <a class="post-tag" href="/tags/programming/">programming</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/building-a-plexus/"><div class="card-body"> <span class="timeago small" >Apr 16<i class="unloaded">2021-04-16T23:53:16+11:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Building a Plexus</h3><div class="text-muted small"><p> In this post we’ll look at how to build a Plexus in JavaScript using the p5.js library. What we are Making How we will make it Setup p5.js Points Generating Po...</p></div></div></a></div><div class="card"> <a href="/posts/maze-colouring-with-dfs-and-bfs/"><div class="card-body"> <span class="timeago small" >Nov 7<i class="unloaded">2021-11-07T23:29:48+11:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Maze Colouring with DFS and BFS</h3><div class="text-muted small"><p> Maze colouring using BFS (Breadth-First Search) and DFS (Depth-First Search). For reference, the mazes in the below examples were generated using the Randomized Depth-First Search (Recursive Backtr...</p></div></div></a></div><div class="card"> <a href="/posts/web-workers/"><div class="card-body"> <span class="timeago small" >Apr 29<i class="unloaded">2021-04-29T18:40:58+11:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Web Workers</h3><div class="text-muted small"><p> This page will demonstrate how to setup Web Workers, dispatch tasks to workers, and send messages/results from workers to the main thread. HTML Page Worker Code Example Output HTML Page ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/android-hooking-in-frida/" class="btn btn-outline-primary" prompt="Older"><p>Android Hooking in Frida</p></a> <a href="/posts/maze-colouring-with-dfs-and-bfs/" class="btn btn-outline-primary" prompt="Newer"><p>Maze Colouring with DFS and BFS</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/twitter_username">Alexander Wells</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/security/">security</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/http/">http</a> <a class="post-tag" href="/tags/https/">https</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/nodejs/">nodejs</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/cryptography/">cryptography</a> <a class="post-tag" href="/tags/programming/">programming</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-RCTP6RS6T4"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-RCTP6RS6T4'); }); </script>
